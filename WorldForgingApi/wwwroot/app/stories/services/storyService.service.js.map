{"version":3,"sources":["stories/services/storyService.service.ts"],"names":["StoryService","http","this","storyUrl","prototype","getStories","get","map","extractData","catch","handleError","getStoryDetails","storyId","res","body","json","error","errMsg","message","status","statusText","console","Observable_1","Observable","throw","__decorate","core_1","Injectable","exports_1"],"mappings":"86BAMAA,aAAA,WAEI,QAAAA,cAAoBC,MAAAC,KAAAD,KAAAA,KADZC,KAAAC,SAAW,sCAsBvB,MApBIH,cAAAI,UAAAC,WAAA,WACI,MAAOH,MAAKD,KAAKK,IAAIJ,KAAKC,UACrBI,IAAIL,KAAKM,aACTC,MAAMP,KAAKQ,cAEpBV,aAAAI,UAAAO,gBAAA,SAAgBC,SACZ,MAAOV,MAAKD,KAAKK,IAAOJ,KAAKC,SAAQ,IAAIS,SACpCL,IAAIL,KAAKM,aACTC,MAAMP,KAAKQ,cAEZV,aAAAI,UAAAI,YAAR,SAAoBK,KAChB,GAAIC,MAAOD,IAAIE,MACf,OAAOD,OAEHd,aAAAI,UAAAM,YAAR,SAAoBM,OAChB,GAAIC,QAAUD,MAAa,QAAIA,MAAME,QACjCF,MAAMG,OAAYH,MAAMG,OAAM,MAAMH,MAAMI,WAAe,cAE7D,OADAC,SAAQL,MAAMC,QACPK,aAAAC,WAAWC,MAAMP,SAtBhCjB,aAAAyB,YAACC,OAAAC,6EACDC,UAAA,eAAA5B","file":"storyService.service.js","sourcesContent":["import {Injectable} from '@angular/core';\r\nimport {Story} from '../story';\r\nimport { Http, Response } from '@angular/http';\r\nimport { Observable }     from 'rxjs/Observable';\r\n\r\n@Injectable()\r\nexport class StoryService {\r\n    private storyUrl = 'http://localhost:51332/api/storyapi';  // URL to web API\r\n    constructor(private http: Http) { }\r\n    getStories(): Observable<Story[]> {\r\n        return this.http.get(this.storyUrl)\r\n            .map(this.extractData)\r\n            .catch(this.handleError);\r\n    }\r\n    getStoryDetails(storyId: Number): Observable<Story> {\r\n        return this.http.get(`${this.storyUrl}/${storyId}`)\r\n            .map(this.extractData)\r\n            .catch(this.handleError);\r\n    }\r\n    private extractData(res: Response) {\r\n        let body = res.json();\r\n        return body;\r\n    }\r\n    private handleError(error: any) {\r\n        let errMsg = (error.message) ? error.message :\r\n            error.status ? `${error.status} - ${error.statusText}` : 'Server error';\r\n        console.error(errMsg); // log to console instead\r\n        return Observable.throw(errMsg);\r\n    }\r\n}"]}