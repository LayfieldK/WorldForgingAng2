{"version":3,"sources":["story-list.component.ts"],"names":["StoryListComponent","storyService","router","this","prototype","ngOnInit","_this","console","log","class","s","title","getLatest","getMostViewed","getRandom","subscribe","stories","error","errorMessage","onSelect","story","selectedStory","Id","navigate","__decorate","core_1","Input","Component","selector","template","styles","exports_1"],"mappings":"08BA4BAA,mBAAA,WAOI,QAAAA,oBAAoBC,aAAoCC,QAApCC,KAAAF,aAAAA,aAAoCE,KAAAD,OAAAA,OA+B5D,MA7BIF,oBAAAI,UAAAC,SAAA,WAAA,GAAAC,OAAAH,IACII,SAAQC,IAAI,4DAA8DL,KAAKM,MAC/E,IAAIC,GAAI,IACR,QAAQP,KAAKM,OACT,IAAK,SACL,QACIN,KAAKQ,MAAQ,iBACbD,EAAIP,KAAKF,aAAaW,WACtB,MACJ,KAAK,cACDT,KAAKQ,MAAQ,sBACbD,EAAIP,KAAKF,aAAaY,eACtB,MACJ,KAAK,SACDV,KAAKQ,MAAQ,iBACbD,EAAIP,KAAKF,aAAaa,YAG9BJ,EAAEK,UACE,SAAAC,SAAW,MAAAV,OAAKU,QAAUA,SAC1B,SAAAC,OAAS,MAAAX,OAAKY,aAAoBD,SAI1CjB,mBAAAI,UAAAe,SAAA,SAASC,OACLjB,KAAKkB,cAAgBD,MACrBb,QAAQC,IAAI,SAAWL,KAAKkB,cAAcC,GAAK,8CAC/CnB,KAAKD,OAAOqB,UAAU,aAAcpB,KAAKkB,cAAcC,MAnC3DE,YAACC,OAAAC,uFAxBL1B,mBAAAwB,YAACC,OAAAE,WACGC,SAAU,aACVC,SAAU,oTAWVC,QAAS,6QAUbC,UAAA,qBAAA/B","file":"story-list.component.js","sourcesContent":["import {Component, Input, OnInit} from \"@angular/core\";\r\nimport {Router} from \"@angular/router\";\r\nimport {Story} from \"./story\";\r\nimport {StoryService} from \"./story.service\";\r\n\r\n@Component({\r\n    selector: \"story-list\",\r\n    template: `\r\n<h3>{{title}}</h3>\r\n<ul class=\"stories\">\r\n    <li *ngFor=\"let story of stories\"\r\n        [class.selected]=\"story === selectedStory\"\r\n        (click)=\"onSelect(story)\">\r\n        <div class=\"title\">{{story.Title}}</div>\r\n        <div class=\"description\">{{story.Description}}</div>\r\n    </li>\r\n</ul>\r\n    `,\r\n    styles: [`\r\n        ul.stories li { \r\n            cursor: pointer;\r\n        }\r\n        ul.stories li.selected { \r\n            background-color: #dddddd; \r\n        }\r\n    `]\r\n})\r\n\r\nexport class StoryListComponent implements OnInit {\r\n    @Input() class: string;\r\n    title: string;\r\n    selectedStory: Story;\r\n    stories: Story[];\r\n    errorMessage: string;\r\n\r\n    constructor(private storyService: StoryService, private router: Router) { }\r\n\r\n    ngOnInit() {\r\n        console.log(\"StoryListComponent instantiated with the following type: \" + this.class);\r\n        var s = null;\r\n        switch (this.class) {\r\n            case \"latest\":\r\n            default:\r\n                this.title = \"Latest Stories\";\r\n                s = this.storyService.getLatest();\r\n                break;\r\n            case \"most-viewed\":\r\n                this.title = \"Most Viewed Stories\";\r\n                s = this.storyService.getMostViewed();\r\n                break;\r\n            case \"random\":\r\n                this.title = \"Random Stories\";\r\n                s = this.storyService.getRandom();\r\n                break;\r\n        }\r\n        s.subscribe(\r\n            stories => this.stories = stories,\r\n            error => this.errorMessage = <any>error\r\n        );\r\n    }\r\n\r\n    onSelect(story: Story) {\r\n        this.selectedStory = story;\r\n        console.log(\"Story \" + this.selectedStory.Id + \" has been clicked: loading story viewer...\");\r\n        this.router.navigate([\"story/view\", this.selectedStory.Id]);\r\n    }\r\n}\r\n"]}